<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>실시간 점자 변환 시스템</title>
    <style>
        body {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: repeat(8, auto);
            gap: 10px;
            font-family: Arial, sans-serif;
        }
        .title {
            font-weight: bold;
            text-align: center;
        }
        .content {
            text-align: center;
        }
        .webcam, .labeled-image {
            width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    <div class="title">웹캠 스트리밍 화면</div>
    <div class="title">라벨링된 이미지</div>

    <div class="content" style="grid-row: span 5;">
        <!-- 웹캠 스트리밍 URL을 Flask에서 제공하는 URL로 직접 설정 -->
        <img id="webcam-stream" class="webcam" src="{{ url_for('video') }}">
    </div>
    <div class="content" style="grid-row: span 5;">
        <!-- 초기 이미지 메시지 설정 -->
        <img id="labeled-image" class="labeled-image" src="" alt="이미지 준비중">
    </div>

    <div class="title">아두이노로부터 넘어온 값</div>
    <div class="title">아두이노로 전달되는 단어</div>

    <div class="content" id="arduino-input-value"></div>
    <div class="content" id="arduino-output-word"></div>

    <script>
        function updateArduinoInputValue(value) {
            document.getElementById('arduino-input-value').innerText = value;
        }

        function updateArduinoOutputWord(word) {
            document.getElementById('arduino-output-word').innerText = word;
        }

        // 라벨링된 이미지 URL을 업데이트하는 함수 수정
        function updateLabeledImage(url) {
            const imageElement = document.getElementById('labeled-image');
            if(url) {
                imageElement.src = url;
                imageElement.alt = ""; // 이미지가 준비되었으므로 alt 텍스트를 비웁니다.
            } else {
                imageElement.alt = "이미지 준비중";
            }
        }

        // 웹캠 스트리밍 URL과 라벨링된 이미지 URL을 업데이트하는 예시
        function updateWebcamStream(url) {
            document.getElementById('webcam-stream').src = url;
        }

    </script>
</body>
</html>
